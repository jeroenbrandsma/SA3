%!TEX root = ../report.tex
\chapter{Architecture evaluation}
\label{ch:evaluation}
In this chapter the software architecture will be evaluated. This document started with a requirement analysis. The requirements which are defined in chapter 3 are checked if they are fulfilled in the software architecture. Another part in this chapter is the architecture evaluation using Architecture Tradeoff Analysis Method (ATAM). The architectural risks can be exposed that can harm the organization's business goals.

\section{Requirements validation}
The requirements from chapter 3 are evaluated in this section. The section is split according to chapter 3. First  the functional requirements, following the commercial requirements, and at the end the technical non-functional requirements.

\subsection{Functional requirements}
\begin{table}[H]
	\begin{tabular}{lllll}
						    
		Nr.   & Priority & Fulfilled & Location & Remarks \\ \hline
		
		%		INTR-1 & Must     & Yes      &\ref{subsec:external-system} & Fulfilled by using several weather forecast API providers.       \\
		%The system is able to receive input from water level sensors.
		FR-1  & Must     & Yes        & \ref{subsec:logicalview} \ref{sec:hardware-decisions} & Fulfilled by the system providing a REST server the arduino sensor systems can use to post the sensor data to. \\ 
		
		%The system is able to perform an analysis for the water level in the waterways based on the input from the water level sensors. 
		FR-2  & Must     & Yes       & \ref{subsec:logicalview}       & Fulfilled by having the system use several algorithms to analyze the sensor input for abnormalities \\ 
		%The system is able to receive input from the dike sensors.
		FR-3  & Must     & Yes        & \ref{sec:hardware-decisions} \ref{hw:2}         & Fulfilled by having arduino systems sent the dike sensor values over a cabled network to the central system's REST server \\ 
		
		%The system is able to perform an analysis for the parameters of the dike sensors based on the input from the dike sensors.
		%TODO This has to be explained better i guess.
		FR-4  & Must     & Yes        &          & ~       \\ 
		
		%FR-5 Must The system can store the sensor data.
		FR-5  & Must     & Yes        & \ref{subsec:implementview} \ref{DEC:6} & Fulfilled by using an ElasticSearch database that is capable of storing all the data needed.       \\ 
		
		%Sensor data, which has been previously stored, can be retrieved at a later moment.
		FR-6  & Must     & Yes & \ref{DEC:6} & Fulfilled by using an Elasticsearch database that is very robust, high available and scalable. Thereby enhancing the ability to store and receive data at all times. \\
		
%		%The system retrieves weather forecasting data from weather forecasting services,
%which consists of predictions about the precipitation, wind data and tide information.
%This is used by the system to help in determining when a flood becomes imminent
		FR-7  & Must     & Yes        & \ref{subsec:external-system}         & Fulfilled by the system contacting several API's to base the decisions on. \\ 
		
		%The system is able to detect when a flood is imminent by combining the retrieved
%sensor data and weather forecasting data.
		FR-8  & Must     & Yes        & \ref{subsec:logicalview}         & Fulfilled by the system using Longitudinal Data Analysis to correlate the sensor data with the forecast data \\ 
		
%		%The system retrieves geographic information, consisting of road data, terrain height
%data and demographic data (number of civilians living in affected area) from an
%external API.
		FR-9  & Must     & Yes        & \ref{subsec:external-system} & Fulfilled by the system contacting an external GEO API over TCP/IP\\
		
%		%The system computes the area affected by a flood, in zones of 5 by 5 km, by using the
%location data of the sensors and geographic information.
		FR-10 & Must     & Yes        & \ref{sec:softdecisions}         & Fulfilled by the system storing the geographical data and using Elasticsearch queries to get the specified area \\ 
		
%		%The system is able to perform an analysis, resulting in an estimated expected water
%level for areas which are affected by a flood, based on the water level sensor data,
%geographic data and weather forecast information.
		FR-11 & Must     & Yes & \ref{sec:elaboratedmodel} \ref{subsec:logicalview}  & Fulfilled by using several different external API's for additional information together with a correlation algorithm and other analysis algorithms \\ 
		FR-12 & Should   & ~        & ~         & ~       \\ 
		FR-13 & Should   & ~        & ~         & ~       \\ 
		FR-14 & Must     & ~        & ~         & ~       \\ 
		FR-15 & Must     & ~        & ~         & ~       \\ 
		FR-16 & Must     & ~        & ~         & ~       \\ 
		FR-17 & Must     & ~        & ~         & ~       \\ 
		FR-18 & Must     & ~        & ~         & ~       \\ 
		FR-19 & Must     & ~        & ~         & ~       \\ 
		FR-20 & Must     & ~        & ~         & ~       \\ 
		FR-21 & Must     & ~        & ~         & ~       \\ 
		FR-22 & Must     & ~        & ~         & ~       \\ 
		FR-23 & Must     & ~        & ~         & ~       \\ 
		FR-24 & Must     & ~        & ~         & ~       \\ 
		FR-25 & Must     & ~        & ~         & ~       \\ 
		FR-26 & Must     & ~        & ~         & ~       \\ 
		FR-27 & Must     & ~        & ~         & ~       \\ 
		FR-28 & Must     & ~        & ~         & ~       \\ 
		FR-29 & Could    & ~        & ~         & ~       \\
						
	\end{tabular}
\end{table}

\subsection{Commercial non-functional requirements}
\begin{table}[H]
	\begin{tabular}{lllll}
						    
		Nr.    & Priority & Fulfilled & Location & Remarks \\ \hline
		CNFR-1 & Must     & ~        & ~         & ~       \\ 
		CNFR-2 & Must     & ~        & ~         & ~       \\
						
	\end{tabular}
\end{table}

\subsection{Technical non-functional requirements}
\subsubsection{Reliability}
\begin{table}[H]
	\begin{tabular}{lllll}
						    
		Nr.   & Priority & Fulfilled & Location & Remarks \\ \hline
		REL-1 & Must     & ~        & ~         & ~       \\ 
		REL-2 & Must     & ~        & ~         & ~       \\ 
		REL-3 & Must     & ~        & ~         & ~       \\ 
		REL-4 & Must     & ~        & ~         & ~       \\
						
	\end{tabular}
\end{table}

\subsubsection{Availability}
\begin{table}[H]
	\begin{tabular}{lllll}
						    
		Nr.   & Priority & Fulfilled & Location & Remarks \\ \hline
		AVA-1 & Must     & ~        & ~         & ~       \\ 
		AVA-2 & Must     & ~        & ~         & ~       \\
						
	\end{tabular}
\end{table}

\subsubsection{Resilience}
\begin{table}[H]
	\begin{tabular}{lllll}
						    
		Nr.   & Priority & Fulfilled & Location & Remarks \\ \hline
		RES-1 & Must     & ~        & ~         & ~       \\ 
		RES-2 & Must     & ~        & ~         & ~       \\ 
		RES-3 & Must     & ~        & ~         & ~       \\ 
		RES-4 & Must     & ~        & ~         & ~       \\ 
		RES-5 & Must     & ~        & ~         & ~       \\
						
	\end{tabular}
\end{table}

\subsubsection{Performance}
\begin{table}[H]
	\begin{tabular}{lllll}
						    
		Nr.    & Priority & Fulfilled & Location & Remarks \\ \hline
		PERF-1 & Must     & Unknown  & -         & Expected, not yet tested. \\
		PERF-2 & Must     & Unknown  & -         & Expected, not yet tested. \\
		PERF-3 & Must     & Unknown  & -         & Expected, not yet tested. \\
		PERF-4 & Must     & Unknown  & -         & Expected, not yet tested. \\
		PERF-5 & Must     & Unknown  & -         & Expected, not yet tested. \\
						
	\end{tabular}
\end{table}

\subsubsection{Interoperability}
\begin{table}[H]
	\begin{tabular}{lllll}
						    
		Nr.    & Priority & Fulfilled & Location & Remarks \\ \hline
		INTR-1 & Must     & Yes      &\ref{subsec:external-system} & Fulfilled by using several weather forecast API providers.       \\ 
		INTR-2 & Must     & Yes      &\ref{subsec:users-roles}, \ref{subsec:external-system}, \ref{subsec:channels-information-flows}& Fulfilled by notifying Safety Region using API.\\ 
		INTR-3 & Must     & Yes      &\ref{subsec:external-system} & Fulfilled by sending SMS to subscribed citizens. \\ 
		INTR-4 & Must     & Yes      & \ref{sec:hardware-overview} & Fulfilled by using GeoBeads and Water level sensor. \\ 
		INTR-5 & Must     & Yes      & \ref{subsec:external-system} & Fulfilled by gathering ground height and waterways data. \\ 
		INTR-6 & Must     & Yes      & \ref{subsec:users-roles} & Fulfilled by exposing API to third party developers.       \\ 
						
	\end{tabular}
\end{table}

\subsubsection{Security}
\begin{table}[H]
	\begin{tabular}{lllll}
						    
		Nr.   & Priority & Fulfilled & Location & Remarks \\ \hline
		SEC-1 & Must     & Yes      & \ref{subsec:system-diagram} & Fulfilled. \\ 
		SEC-2 & Must     & Yes      & \ref{subsec:channels-information-flows} & Fulfilled. \\ 
		SEC-3 & Must     & Yes      & \ref{subsec:database-data} & Fulfilled, applied in Elasticsearch DB. \\ 
		SEC-4 & Must     & Yes      & \ref{sec:hardware-overview} & Fulfilled, in the data center level. \\ 
		SEC-5 & Must     & Yes      & \ref{sec:hardware-overview} & Fulfilled, by using Arduino to send data.\\
						
	\end{tabular}
\end{table}

\subsubsection{Scalability}
\begin{table}[H]
	\begin{tabular}{lllll}
						    
		Nr.     & Priority & Fulfilled & Location & Remarks \\ \hline
		SCALE-1 & Must     & Yes      & \ref{subsec:database-data} & Fulfilled by adapting Elasticsearch. \\ 
		SCALE-2 & Must     & Yes      & \ref{sec:hardware-overview} & Fulfilled by adapting multiple data centers and multiple sensor type. \\ 
		SCALE-3 & Must     & Unknown  & -         & Expected, not yet tested. \\
						
	\end{tabular}
\end{table}

\clearpage
\input{8-evaluation/architectureevaluation.tex}

